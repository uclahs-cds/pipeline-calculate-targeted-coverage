<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="892px" preserveAspectRatio="none" style="width:1312px;height:892px;background:#FFFFFF;" version="1.1" viewBox="0 0 1312 892" width="1312px" zoomAndPan="magnify"><defs/><g><!--MD5=[5793b8a6652117c897ab2de440c96a33]
cluster Target-Focused Workflow--><g id="cluster_Target-Focused Workflow"><rect height="495" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="511" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="205" x="160" y="21.9951">Target-Focused Workflow</text></g><!--MD5=[d541b56f1a19ef419b51f0e2d36e069b]
cluster Input1--><g id="cluster_Input1"><rect height="68" rx="2.5" ry="2.5" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="320" x="60" y="50"/><text fill="#000000" font-family="sans-serif" font-size="0" font-weight="bold" lengthAdjust="spacing" textLength="0" x="220" y="52">Input</text></g><!--MD5=[fdf0c65af9cafec17be4ce373e959a1e]
cluster Off-Target Workflow--><g id="cluster_Off-Target Workflow"><rect height="879" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="560" x="542" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162" x="741" y="21.9951">Off-Target Workflow</text></g><!--MD5=[fcfe6af240cbb9de2e31d0010bc81b0a]
cluster Input2--><g id="cluster_Input2"><rect height="68" rx="2.5" ry="2.5" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="343" x="638" y="50"/><text fill="#000000" font-family="sans-serif" font-size="0" font-weight="bold" lengthAdjust="spacing" textLength="0" x="809.5" y="52">Input</text></g><!--MD5=[f7217341b3bb6bbf768c7f0e049f8d09]
cluster Legend--><g id="cluster_Legend"><rect height="375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="180" x="1126" y="31"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59" x="1186.5" y="45.9951">Legend</text></g><!--MD5=[afbb0db1cbcdc0e923b4432d737361e0]
entity ValInputs1--><g id="elem_ValInputs1"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="277.5" y="162"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="287.5" y="184.9951">Validate Inputs</text></g><!--MD5=[b3fc1d5769c32d62159879ccf9acacb3]
entity CalcReadDepth--><g id="elem_CalcReadDepth"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="236" x="266" y="258"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="276" y="280.9951">Calculate Per-base Read Depth</text></g><!--MD5=[bd6c7db5d87a2d4a9d8c6ffd88a5bcea]
entity ConvBEDtoIntervalList--><g id="elem_ConvBEDtoIntervalList"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="202" x="26" y="162"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="36" y="184.9951">Convert BED to interval.list</text></g><!--MD5=[2c5b443c033a35a14a0a2ae3c89dfd10]
entity ConvtoBED1--><g id="elem_ConvtoBED1"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="321" y="354"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="331" y="376.9951">Convert to BED</text></g><!--MD5=[b356e89eaf00e777fdf024a4814b8e18]
entity CalcCovMetrics--><g id="elem_CalcCovMetrics"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207" x="23.5" y="258"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="33.5" y="280.9951">Calculate Coverage Metrics</text></g><!--MD5=[dcd1f042f3b348163f3493299ca35159]
entity TargetReadDepthBED--><g id="elem_TargetReadDepthBED"><rect fill="#98FB98" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="294.5" y="450"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="304.5" y="472.9951">Target read depth BED</text></g><!--MD5=[360be6d182cb7145dcbdee0021c8ccd3]
entity HSMetrics--><g id="elem_HSMetrics"><rect fill="#F5DEB3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="65" y="354"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="75" y="376.9951">HS Metrics TXT</text></g><!--MD5=[07ce715d8952035f1c648a97cce063ab]
entity TargetFile1--><g id="elem_TargetFile1"><rect fill="#ADD8E6" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="185" y="66"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="195" y="88.9951">Target File</text></g><!--MD5=[bb2b4fcf43ed25e0ab855486922ad703]
entity BaitFile--><g id="elem_BaitFile"><rect fill="#ADD8E6" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="76.5" y="66"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="86.5" y="88.9951">Bait File</text></g><!--MD5=[a83f4c4b109093b6df97f2e5475fbb6d]
entity BAM1--><g id="elem_BAM1"><rect fill="#ADD8E6" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="312.5" y="66"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="322.5" y="88.9951">BAM</text></g><!--MD5=[3711304ccc2c64bce48f9718f643142e]
entity ValInputs2--><g id="elem_ValInputs2"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="878.5" y="162"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="888.5" y="184.9951">Validate Inputs</text></g><!--MD5=[b6607c3669bb86c4076734be7bd06d49]
entity CalcReadDepthAtdbSNP--><g id="elem_CalcReadDepthAtdbSNP"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="768.5" y="258"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251" x="778.5" y="280.9951">Cacluate Read Depth at dbSNP sites</text></g><!--MD5=[5bda774f1e672053773e83dd05eacaed]
entity FilterReadDepth--><g id="elem_FilterReadDepth"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="222" x="825" y="354"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="835" y="376.9951">Filter for minimum read depth</text></g><!--MD5=[cd6e518d9ba44279cfc888103d8aa6a4]
entity FilterOffTarget--><g id="elem_FilterOffTarget"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="610.5" y="354"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="620.5" y="376.9951">Filter for off-target sites</text></g><!--MD5=[715b69296de685ae7f1f45cea8134010]
entity ConvtoBED2--><g id="elem_ConvtoBED2"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="755" y="450"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="765" y="472.9951">Convert to BED</text></g><!--MD5=[0c145ebd8b2b512a07df55d1a2465d38]
entity AddSlopOffTarget--><g id="elem_AddSlopOffTarget"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="206" x="595" y="546"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="605" y="568.9951">Add Slop to off-target SNPs</text></g><!--MD5=[f50d1513eea2cf224a813b3b0f46f551]
entity MergeWithTarget--><g id="elem_MergeWithTarget"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="616" y="642"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="626" y="664.9951">Merge with target file</text></g><!--MD5=[6b0d55934776f8df877a4aa9a84c95b4]
entity AddSlopTarget--><g id="elem_AddSlopTarget"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="595.5" y="162"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="605.5" y="184.9951">Add Slop to Target Intervals</text></g><!--MD5=[97b99327512678a3edfd748478556652]
entity TargetPlusOffTargetReadDepthBED--><g id="elem_TargetPlusOffTargetReadDepthBED"><rect fill="#98FB98" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="329" x="557.5" y="738"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="567.5" y="760.9951">Target + Enriched Off-target read depth BED</text></g><!--MD5=[7f5ec864b4cb369ae6c755b0ecd8ff52]
entity OffTargetReadDepth--><g id="elem_OffTargetReadDepth"><rect fill="#98FB98" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249" x="836.5" y="546"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="846.5" y="568.9951">Off-target dbSNP read depth BED</text></g><!--MD5=[e94e62f06dcbdb4a6e54560988436e02]
entity RecalBAM--><g id="elem_RecalBAM"><rect fill="#FFFFFF" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="658" y="834"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="668" y="856.9951">recalibrate-BAM</text></g><!--MD5=[d240438f19e54a6f2cb3889e6527a070]
entity TargetFile2--><g id="elem_TargetFile2"><rect fill="#ADD8E6" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="654" y="66"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="664" y="88.9951">Target File</text></g><!--MD5=[7b92cfaf277f583add5cf6dde83011d4]
entity dbSNP_VCF--><g id="elem_dbSNP_VCF"><rect fill="#ADD8E6" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="781.5" y="66"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="791.5" y="88.9951">dbSNP VCF</text></g><!--MD5=[0b8015d1c6b7568455913bd022baae3a]
entity BAM2--><g id="elem_BAM2"><rect fill="#ADD8E6" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="913.5" y="66"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="923.5" y="88.9951">BAM</text></g><!--MD5=[486a548dd2b54905abbe5c1ab7fa9983]
entity IF--><g id="elem_IF"><rect fill="#ADD8E6" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="1175" y="66"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1185" y="88.9951">Input File</text></g><!--MD5=[d3ef473a5067122b9254af2bc2f25065]
entity QC--><g id="elem_QC"><rect fill="#F5DEB3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="1142.5" y="162"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1152.5" y="184.9951">Quality Control File</text></g><!--MD5=[633fdf3c843eeff0d0fbc3bde364bced]
entity OF--><g id="elem_OF"><rect fill="#98FB98" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="1168.5" y="258"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="1178.5" y="280.9951">Output File</text></g><!--MD5=[7842cb4300efb401920d8f72ebe921e6]
entity PS--><g id="elem_PS"><rect fill="#D3D3D3" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="1160" y="354"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="1170" y="376.9951">Process Step</text></g><!--MD5=[a98f2fcb5fff3f38e9b30ea7ce7944cc]
reverse link BaitFile to TargetFile1--><g id="link_BaitFile_TargetFile1"><path d="M155.05,84 C164.94,84 174.84,84 184.73,84 " fill="none" id="BaitFile-backto-TargetFile1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="149.88,84,158.8914,87.9743,154.88,83.9857,158.8685,79.9743,149.88,84" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8613a7106181726335c268ad9afcbade]
link TargetFile1 to ConvBEDtoIntervalList--><g id="link_TargetFile1_ConvBEDtoIntervalList"><path d="M211.92,102.24 C194.48,118.01 168.63,141.37 150.04,158.17 " fill="none" id="TargetFile1-to-ConvBEDtoIntervalList" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="145.95,161.87,155.3031,158.7847,149.6529,158.5102,149.9274,152.86,145.95,161.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ad70a8f2d24c7fbe93a363248ba8fd89]
link TargetFile2 to AddSlopTarget--><g id="link_TargetFile2_AddSlopTarget"><path d="M700,102.24 C700,117.48 700,139.81 700,156.46 " fill="none" id="TargetFile2-to-AddSlopTarget" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="700,161.87,704,152.87,700,156.87,696,152.87,700,161.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[bb9b1f52b6b7f984ba4d3d204d33fcda]
link TargetFile2 to MergeWithTarget--><g id="link_TargetFile2_MergeWithTarget"><path d="M655.35,102.04 C628.66,114.57 596.46,134.27 578,162 C549.79,204.4 559,224.07 559,275 C559,275 559,275 559,469 C559,519.86 549.09,539.49 577,582 C594.11,608.06 623.43,627.05 648.92,639.65 " fill="none" id="TargetFile2-to-MergeWithTarget" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="653.63,641.93,647.2627,634.4162,649.1269,639.7571,643.786,641.6212,653.63,641.93" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0b188298c9b1afe471d4865e17af690e]
link BaitFile to ConvBEDtoIntervalList--><g id="link_BaitFile_ConvBEDtoIntervalList"><path d="M115.57,102.24 C117.86,117.61 121.22,140.2 123.71,156.89 " fill="none" id="BaitFile-to-ConvBEDtoIntervalList" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="124.45,161.87,127.068,152.3755,123.7069,156.9255,119.1568,153.5644,124.45,161.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4ebbafa84b39c454a0f1728fb61efbcb]
link BAM1 to ValInputs1--><g id="link_BAM1_ValInputs1"><path d="M338,102.24 C338,117.48 338,139.81 338,156.46 " fill="none" id="BAM1-to-ValInputs1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="338,161.87,342,152.87,338,156.87,334,152.87,338,161.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1085dcdb1e044111634ab5f4c085fbb6]
link BAM2 to ValInputs2--><g id="link_BAM2_ValInputs2"><path d="M939,102.24 C939,117.48 939,139.81 939,156.46 " fill="none" id="BAM2-to-ValInputs2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="939,161.87,943,152.87,939,156.87,935,152.87,939,161.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0f5f9f541059e0d392cad8edec1088b0]
link dbSNP_VCF to CalcReadDepthAtdbSNP--><g id="link_dbSNP_VCF_CalcReadDepthAtdbSNP"><path d="M833.38,102.27 C838.09,124.81 847.59,165.24 861,198 C868.99,217.52 880.83,238.33 890.07,253.38 " fill="none" id="dbSNP_VCF-to-CalcReadDepthAtdbSNP" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="892.84,257.87,891.4915,248.1139,890.2028,253.622,884.6947,252.3334,892.84,257.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[ea8d0339758d2104072632f00f4bc0a1]
link ValInputs1 to CalcReadDepth--><g id="link_ValInputs1_CalcReadDepth"><path d="M346.44,198.24 C354.02,213.74 365.2,236.59 373.39,253.32 " fill="none" id="ValInputs1-to-CalcReadDepth" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="375.62,257.87,375.2483,248.0282,373.4183,253.3808,368.0656,251.5509,375.62,257.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8836070171cd6f0734a3a2db1cce46c0]
link ValInputs1 to CalcCovMetrics--><g id="link_ValInputs1_CalcCovMetrics"><path d="M299.79,198.02 C263.31,214.28 208.4,238.74 170.31,255.71 " fill="none" id="ValInputs1-to-CalcCovMetrics" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="165.28,257.95,175.1289,257.9557,169.8502,255.922,171.884,250.6433,165.28,257.95" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[26102ab38cefa976c6f11175f31d78b3]
link ValInputs2 to CalcReadDepthAtdbSNP--><g id="link_ValInputs2_CalcReadDepthAtdbSNP"><path d="M932.58,198.24 C926.86,213.61 918.45,236.2 912.23,252.89 " fill="none" id="ValInputs2-to-CalcReadDepthAtdbSNP" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="910.38,257.87,917.2666,250.8291,912.1231,253.1837,909.7685,248.0401,910.38,257.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f308aad7a2b7b7a038ef70c2e5184697]
link ConvBEDtoIntervalList to CalcCovMetrics--><g id="link_ConvBEDtoIntervalList_CalcCovMetrics"><path d="M127,198.24 C127,213.48 127,235.81 127,252.46 " fill="none" id="ConvBEDtoIntervalList-to-CalcCovMetrics" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="127,257.87,131,248.87,127,252.87,123,248.87,127,257.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d676bc7e0090eb72ce6e5be50a2e077f]
link CalcCovMetrics to HSMetrics--><g id="link_CalcCovMetrics_HSMetrics"><path d="M127,294.24 C127,309.48 127,331.81 127,348.46 " fill="none" id="CalcCovMetrics-to-HSMetrics" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="127,353.87,131,344.87,127,348.87,123,344.87,127,353.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[01f923ac9ec9e6500d1bb9fa79e1697e]
link CalcReadDepth to ConvtoBED1--><g id="link_CalcReadDepth_ConvtoBED1"><path d="M384,294.24 C384,309.48 384,331.81 384,348.46 " fill="none" id="CalcReadDepth-to-ConvtoBED1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="384,353.87,388,344.87,384,348.87,380,344.87,384,353.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[af6509568e048ae4cd4a149100a354eb]
link ConvtoBED1 to TargetReadDepthBED--><g id="link_ConvtoBED1_TargetReadDepthBED"><path d="M384,390.24 C384,405.48 384,427.81 384,444.46 " fill="none" id="ConvtoBED1-to-TargetReadDepthBED" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="384,449.87,388,440.87,384,444.87,380,440.87,384,449.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b29190690876ac2acc2d8498a16a795b]
link CalcReadDepthAtdbSNP to FilterReadDepth--><g id="link_CalcReadDepthAtdbSNP_FilterReadDepth"><path d="M909.87,294.24 C915.1,309.61 922.79,332.2 928.47,348.89 " fill="none" id="CalcReadDepthAtdbSNP-to-FilterReadDepth" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="930.17,353.87,931.0478,344.0603,928.5546,349.1381,923.4768,346.645,930.17,353.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0f26ebfad290e99f32fa61a8b594642d]
link CalcReadDepthAtdbSNP to FilterOffTarget--><g id="link_CalcReadDepthAtdbSNP_FilterOffTarget"><path d="M867.06,294.02 C831.78,310.28 778.7,334.74 741.87,351.71 " fill="none" id="CalcReadDepthAtdbSNP-to-FilterOffTarget" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="737.01,353.95,746.8578,353.8044,741.5485,351.852,743.501,346.5428,737.01,353.95" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[bc906825f7e1d5b70f40674632bccb60]
link AddSlopTarget to FilterOffTarget--><g id="link_AddSlopTarget_FilterOffTarget"><path d="M700,198.2 C700,232.67 700,310.23 700,348.61 " fill="none" id="AddSlopTarget-to-FilterOffTarget" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="700,353.98,704,344.98,700,348.98,696,344.98,700,353.98" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f67994d5c9e5089d67098b1dba1202cb]
link FilterReadDepth to ConvtoBED2--><g id="link_FilterReadDepth_ConvtoBED2"><path d="M914.63,390.02 C894.71,405.89 864.96,429.59 843.73,446.5 " fill="none" id="FilterReadDepth-to-ConvtoBED2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="839.61,449.79,849.1433,447.3167,843.5227,446.677,844.1624,441.0564,839.61,449.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[abc6aac69c72e9ffd6c16c06bb81507a]
link FilterOffTarget to ConvtoBED2--><g id="link_FilterOffTarget_ConvtoBED2"><path d="M721.37,390.02 C741.29,405.89 771.04,429.59 792.27,446.5 " fill="none" id="FilterOffTarget-to-ConvtoBED2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="796.39,449.79,791.8376,441.0564,792.4773,446.677,786.8567,447.3167,796.39,449.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c14f56721dd82fc7877dcded9936910e]
link ConvtoBED2 to OffTargetReadDepth--><g id="link_ConvtoBED2_OffTargetReadDepth"><path d="M843.9,486.02 C868.24,502.03 904.7,525.99 930.45,542.92 " fill="none" id="ConvtoBED2-to-OffTargetReadDepth" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="934.81,545.79,929.5074,537.4904,930.6388,543.033,925.0962,544.1644,934.81,545.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[fe1e7ca8ee9a7042e8a58a8798800454]
link ConvtoBED2 to AddSlopOffTarget--><g id="link_ConvtoBED2_AddSlopOffTarget"><path d="M796.27,486.02 C776.01,501.89 745.75,525.59 724.17,542.5 " fill="none" id="ConvtoBED2-to-AddSlopOffTarget" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="719.97,545.79,729.5185,543.3764,723.9021,542.7015,724.577,537.0851,719.97,545.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[be633c3fef0ea7de7d91abfc3ce66e7d]
link AddSlopOffTarget to MergeWithTarget--><g id="link_AddSlopOffTarget_MergeWithTarget"><path d="M698,582.24 C698,597.48 698,619.81 698,636.46 " fill="none" id="AddSlopOffTarget-to-MergeWithTarget" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="698,641.87,702,632.87,698,636.87,694,632.87,698,641.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0fa50402f24eb397243c00d2dc3ff62f]
link MergeWithTarget to TargetPlusOffTargetReadDepthBED--><g id="link_MergeWithTarget_TargetPlusOffTargetReadDepthBED"><path d="M702.4,678.24 C706.33,693.61 712.09,716.2 716.36,732.89 " fill="none" id="MergeWithTarget-to-TargetPlusOffTargetReadDepthBED" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="717.63,737.87,719.2672,728.1582,716.3871,733.0269,711.5183,730.1468,717.63,737.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4737fbc0abd4b31898a08a11d07ff5b8]
link TargetPlusOffTargetReadDepthBED to RecalBAM--><g id="link_TargetPlusOffTargetReadDepthBED_RecalBAM"><path d="M722,774.24 C722,789.48 722,811.81 722,828.46 " fill="none" id="TargetPlusOffTargetReadDepthBED-to-RecalBAM" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="722,833.87,726,824.87,722,828.87,718,824.87,722,833.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1d4d0dbdd50de0a0980321eccab73fac]
link IF to QC--><!--MD5=[03c241bed99ac1776e7d8c4bd4f5cca5]
link QC to OF--><!--MD5=[35700df3515afd241139af4c0386ffe2]
link OF to PS--><!--MD5=[b11b954ea5379a32a09810b90cfba544]
@startuml
hide stereotype

skinparam rectangle {
    BackgroundColor<<InputFile>> #LightBlue
    BackgroundColor<<QCFile>> #Wheat
    BackgroundColor<<OutputFile>> #PaleGreen
    BackgroundColor<<ProcessStep>> #LightGray
    BorderColor<<transparent>> transparent
    FontSize<<transparent>> 0
}

' target workflow
rectangle "Target-Focused Workflow" {
    ' input
    rectangle Input as Input1 <<transparent>> {
        rectangle "Target File" as TargetFile1 <<InputFile>>
        rectangle "Bait File" as BaitFile <<InputFile>>
        rectangle "BAM" as BAM1 <<InputFile>>
    }
    ' process steps
    rectangle "Validate Inputs" as ValInputs1 <<ProcessStep>>
    rectangle "Calculate Per-base Read Depth" as CalcReadDepth <<ProcessStep>>
    rectangle "Convert BED to interval.list" as ConvBEDtoIntervalList <<ProcessStep>>
    rectangle "Convert to BED" as ConvtoBED1 <<ProcessStep>>
    rectangle "Calculate Coverage Metrics" as CalcCovMetrics <<ProcessStep>>
    ' output files
    rectangle "Target read depth BED" as TargetReadDepthBED <<OutputFile>>
    ' QC files
    rectangle "HS Metrics TXT" as HSMetrics <<QCFile>>
}


' off target workflow
rectangle "Off-Target Workflow" {
    ' input
    rectangle Input as Input2 <<transparent>> {
        rectangle "Target File" as TargetFile2 <<InputFile>>
        rectangle "dbSNP VCF" as dbSNP_VCF <<InputFile>>
        rectangle "BAM" as BAM2 <<InputFile>>
    }
    ' process steps
    rectangle "Validate Inputs" as ValInputs2 <<ProcessStep>>
    rectangle "Cacluate Read Depth at dbSNP sites" as CalcReadDepthAtdbSNP <<ProcessStep>>
    rectangle "Filter for minimum read depth" as FilterReadDepth <<ProcessStep>>
    rectangle "Filter for off-target sites" as FilterOffTarget <<ProcessStep>>
    rectangle "Convert to BED" as ConvtoBED2 <<ProcessStep>>
    rectangle "Add Slop to off-target SNPs" as AddSlopOffTarget <<ProcessStep>>
    rectangle "Merge with target file" as MergeWithTarget <<ProcessStep>>
    rectangle "Add Slop to Target Intervals" as AddSlopTarget <<ProcessStep>>

    ' output files
    rectangle "Target + Enriched Off-target read depth BED" as TargetPlusOffTargetReadDepthBED <<OutputFile>>
    rectangle "Off-target dbSNP read depth BED" as OffTargetReadDepth <<OutputFile>>

    ' end node
    rectangle "recalibrate-BAM" as RecalBAM #White
}



TargetFile1 -l-> BaitFile
TargetFile1 - -> ConvBEDtoIntervalList
TargetFile2 - -> AddSlopTarget
TargetFile2 - -> MergeWithTarget

BaitFile - -> ConvBEDtoIntervalList

BAM1 - -> ValInputs1
BAM2 - -> ValInputs2

dbSNP_VCF - -> CalcReadDepthAtdbSNP

ValInputs1 - -> CalcReadDepth
ValInputs1 - -> CalcCovMetrics
ValInputs2 - -> CalcReadDepthAtdbSNP

ConvBEDtoIntervalList - -> CalcCovMetrics
CalcCovMetrics - -> HSMetrics

CalcReadDepth - -> ConvtoBED1
ConvtoBED1 - -> TargetReadDepthBED

CalcReadDepthAtdbSNP - -> FilterReadDepth
CalcReadDepthAtdbSNP - -> FilterOffTarget

AddSlopTarget - -> FilterOffTarget

FilterReadDepth - -> ConvtoBED2
FilterOffTarget - -> ConvtoBED2

ConvtoBED2 - -> OffTargetReadDepth
ConvtoBED2 - -> AddSlopOffTarget

AddSlopOffTarget - -> MergeWithTarget

MergeWithTarget - -> TargetPlusOffTargetReadDepthBED

TargetPlusOffTargetReadDepthBED - -> RecalBAM


' Legend
rectangle Legend {
    rectangle "Input File" as IF <<InputFile>>
    rectangle "Quality Control File" as QC <<QCFile>>
    rectangle "Output File" as OF <<OutputFile>>
    rectangle "Process Step" as PS <<ProcessStep>>
}

IF -[hidden]-> QC
QC -[hidden]-> OF
OF -[hidden]-> PS

@enduml

@startuml
hide stereotype

skinparam rectangle {
    BackgroundColor<<InputFile>> #LightBlue
    BackgroundColor<<QCFile>> #Wheat
    BackgroundColor<<OutputFile>> #PaleGreen
    BackgroundColor<<ProcessStep>> #LightGray
    BorderColor<<transparent>> transparent
    FontSize<<transparent>> 0
}

rectangle "Target-Focused Workflow" {
    rectangle Input as Input1 <<transparent>> {
        rectangle "Target File" as TargetFile1 <<InputFile>>
        rectangle "Bait File" as BaitFile <<InputFile>>
        rectangle "BAM" as BAM1 <<InputFile>>
    }
    rectangle "Validate Inputs" as ValInputs1 <<ProcessStep>>
    rectangle "Calculate Per-base Read Depth" as CalcReadDepth <<ProcessStep>>
    rectangle "Convert BED to interval.list" as ConvBEDtoIntervalList <<ProcessStep>>
    rectangle "Convert to BED" as ConvtoBED1 <<ProcessStep>>
    rectangle "Calculate Coverage Metrics" as CalcCovMetrics <<ProcessStep>>
    rectangle "Target read depth BED" as TargetReadDepthBED <<OutputFile>>
    rectangle "HS Metrics TXT" as HSMetrics <<QCFile>>
}


rectangle "Off-Target Workflow" {
    rectangle Input as Input2 <<transparent>> {
        rectangle "Target File" as TargetFile2 <<InputFile>>
        rectangle "dbSNP VCF" as dbSNP_VCF <<InputFile>>
        rectangle "BAM" as BAM2 <<InputFile>>
    }
    rectangle "Validate Inputs" as ValInputs2 <<ProcessStep>>
    rectangle "Cacluate Read Depth at dbSNP sites" as CalcReadDepthAtdbSNP <<ProcessStep>>
    rectangle "Filter for minimum read depth" as FilterReadDepth <<ProcessStep>>
    rectangle "Filter for off-target sites" as FilterOffTarget <<ProcessStep>>
    rectangle "Convert to BED" as ConvtoBED2 <<ProcessStep>>
    rectangle "Add Slop to off-target SNPs" as AddSlopOffTarget <<ProcessStep>>
    rectangle "Merge with target file" as MergeWithTarget <<ProcessStep>>
    rectangle "Add Slop to Target Intervals" as AddSlopTarget <<ProcessStep>>

    rectangle "Target + Enriched Off-target read depth BED" as TargetPlusOffTargetReadDepthBED <<OutputFile>>
    rectangle "Off-target dbSNP read depth BED" as OffTargetReadDepth <<OutputFile>>

    rectangle "recalibrate-BAM" as RecalBAM #White
}



TargetFile1 -l-> BaitFile
TargetFile1 - -> ConvBEDtoIntervalList
TargetFile2 - -> AddSlopTarget
TargetFile2 - -> MergeWithTarget

BaitFile - -> ConvBEDtoIntervalList

BAM1 - -> ValInputs1
BAM2 - -> ValInputs2

dbSNP_VCF - -> CalcReadDepthAtdbSNP

ValInputs1 - -> CalcReadDepth
ValInputs1 - -> CalcCovMetrics
ValInputs2 - -> CalcReadDepthAtdbSNP

ConvBEDtoIntervalList - -> CalcCovMetrics
CalcCovMetrics - -> HSMetrics

CalcReadDepth - -> ConvtoBED1
ConvtoBED1 - -> TargetReadDepthBED

CalcReadDepthAtdbSNP - -> FilterReadDepth
CalcReadDepthAtdbSNP - -> FilterOffTarget

AddSlopTarget - -> FilterOffTarget

FilterReadDepth - -> ConvtoBED2
FilterOffTarget - -> ConvtoBED2

ConvtoBED2 - -> OffTargetReadDepth
ConvtoBED2 - -> AddSlopOffTarget

AddSlopOffTarget - -> MergeWithTarget

MergeWithTarget - -> TargetPlusOffTargetReadDepthBED

TargetPlusOffTargetReadDepthBED - -> RecalBAM


rectangle Legend {
    rectangle "Input File" as IF <<InputFile>>
    rectangle "Quality Control File" as QC <<QCFile>>
    rectangle "Output File" as OF <<OutputFile>>
    rectangle "Process Step" as PS <<ProcessStep>>
}

IF -[hidden]-> QC
QC -[hidden]-> OF
OF -[hidden]-> PS

@enduml

PlantUML version 1.2022.6(Tue Jun 21 17:34:49 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>